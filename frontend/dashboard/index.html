<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>JR Stars â€” Dashboard</title>
  <link rel="stylesheet" href="/static/theme.css">
  <link rel="stylesheet" href="/static/dashboard/dashboard.css">
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
</head>
<body>

<!-- TOPBAR -->
<div class="topbar">
  <a href="/" class="topbar-brand">
    <div class="topbar-logo-circle">
      <img src="/static/img/logo.png" alt="logo" onload="this.classList.add('loaded')" onerror="this.style.display='none';this.nextElementSibling.style.display='block'">
      <span class="logo-fallback">â­</span>
    </div>
    <span class="topbar-name">JR <span>STARS</span></span>
  </a>
  <div class="topbar-center">
    <button class="month-btn" onclick="changeMonth(-1)">â—€</button>
    <div class="month-label" id="month-label">â€”</div>
    <button class="month-btn" onclick="changeMonth(1)">â–¶</button>
  </div>
  <div class="topbar-right">
    <span class="last-update" id="last-update"></span>
    <button class="btn btn-ghost" onclick="loadData()">âŸ³ Actualizar</button>
    <a href="/" class="btn btn-outline">â† Inicio</a>
  </div>
</div>

<!-- FILTROS -->
<div class="filters-bar">
  <span class="filter-tag">Filtrar:</span>
  <select class="select-jr" id="filter-turno" onchange="applyFilters()" style="width:auto;">
    <option value="">Todos los turnos</option>
    <option value="maÃ±ana">MaÃ±ana</option>
    <option value="tarde">Tarde</option>
  </select>
  <select class="select-jr" id="filter-sede" onchange="applyFilters()" style="width:auto;">
    <option value="">Todas las sedes</option>
  </select>
  <input class="input-jr" type="text" id="search"
    placeholder="ğŸ” Buscar alumno..."
    oninput="applyFilters()"
    style="max-width:220px;">
  <button class="btn btn-ghost" onclick="loadData()">âŸ³</button>
</div>

<!-- STATS -->
<div class="stats-grid">
  <div class="stat-box">
    <div class="stat-box-num white" id="stat-total">â€”</div>
    <div class="stat-box-label">Total alumnos</div>
  </div>
  <div class="stat-box">
    <div class="stat-box-num green" id="stat-present">â€”</div>
    <div class="stat-box-label">Hoy presentes</div>
  </div>
  <div class="stat-box">
    <div class="stat-box-num red" id="stat-absent">â€”</div>
    <div class="stat-box-label">Hoy ausentes</div>
  </div>
  <div class="stat-box">
    <div class="stat-box-num" id="stat-pct">â€”</div>
    <div class="stat-box-label">% asistencia mes</div>
  </div>
</div>

<!-- TABLA -->
<div class="table-wrapper">
  <div class="loading-dots" id="loading">
    <span></span><span></span><span></span>
  </div>
  <div id="table-container"></div>
</div>

<!-- LEYENDA -->
<div class="legend">
  <div class="legend-item"><div class="legend-dot dot-present"></div>Presente</div>
  <div class="legend-item"><div class="legend-dot dot-absent"></div>Ausente</div>
  <div class="legend-item"><div class="legend-dot dot-weekend"></div>Fin de semana</div>
  <div class="legend-item"><div class="legend-dot dot-today"></div>Hoy</div>
</div>

<script src="/static/dashboard/dashboard.js?v=4"></script>
</body>
</html>